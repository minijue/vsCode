<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title>您现在的位置是</title>
</head>

<body>

<div align="center"><center>

<table border="1" cellspacing="0" cellpadding="2" width="100%" style="font-size: 9pt"
bordercolor="#000000" bordercolordark="#FFFFFF">
  <tr bgcolor="#CCFFCC">
    <td><span style="font-size: 9pt">您现在的位置是： </span><b><a href="home_idx1.htm">主页制作</a></b></td>  
  </tr>  
</table>  
</center></div><div align="center"><center>  
  
<table border="1" width="100%" style="font-size: 9pt" bgcolor="#FFFFFF"  
bordercolor="#000000" cellpadding="2" cellspacing="0" bordercolordark="#FFFFFF">  
  <tr>  
    <td width="15%" align="center" valign="top"><!--webbot bot="Include"  
      U-Include="../menu.htm" TAG="BODY" startspan -->

<table border="1" width="101" style="font-size: 9pt" cellspacing="0" cellpadding="2" bordercolorlight="#000000" bordercolordark="#FFFFFF">
  <tr>
    <td width="99" bgcolor="#FFCC66" valign="top" align="left">
      <p align="center">编程技巧</td>
  </tr>
  <tr>
    <td width="97" valign="top" align="left"><img border="0" src="../res/dir.gif" width="32" height="15"> 
      <a href="../program/VisualC/Vcidx098.htm">Visual C</a></td>   
  </tr>   
  <tr>   
    <td width="97" valign="top" align="left"><img border="0" src="../res/dir.gif" width="32" height="15">   
      <a href="../program/Vb/Vbidx099.htm">VB</a></td>  
  </tr>  
  <tr>  
    <td width="97" valign="top" align="left"><img border="0" src="../res/dir.gif" width="32" height="15">  
      <a href="../program/Vfp/Vfp_idx.htm">VFoxpro</a></td>  
  </tr>  
  <tr>  
    <td width="97" valign="top" align="left"><img border="0" src="../res/dir.gif" width="32" height="15">  
      <a href="../program/Delphi/Del_idx.htm">Delphi</a></td>  
  </tr>  
  <tr>  
    <td width="97" valign="top" align="left"><img border="0" src="../res/dir.gif" width="32" height="15">  
      <a href="../program/powerbuild/pow_idx.htm">PB</a></td> 
  </tr> 
  <tr> 
    <td width="97" valign="top" align="left"><img border="0" src="../res/dir.gif" width="32" height="15">  
      <a href="../program/linux/linuxidx.htm">Linux</a></td> 
  </tr> 
  <tr> 
    <td width="97" valign="top" align="left"><img border="0" src="../res/dir.gif" width="32" height="15">  
      <a href="../program/other/oth_idx.htm">其它</a></td> 
  </tr> 
  <tr> 
    <td width="99" valign="top" align="left"></td> 
  </tr> 
  <tr> 
    <td width="99" valign="top" align="left" bgcolor="#FFCC66"> 
      <p align="center">网站建设</td> 
  </tr> 
  <tr> 
    <td width="99" valign="top" align="left"><img border="0" src="../res/dir.gif" width="32" height="15">  
      网站评说</td> 
  </tr> 
  <tr> 
    <td width="99" valign="top" align="left"><img border="0" src="../res/dir.gif" width="32" height="15">  
      ASP</td>
  </tr>
  <tr>
    <td width="99" valign="top" align="left"><img border="0" src="../res/dir.gif" width="32" height="15"> 
      CGI</td>
  </tr>
  <tr>
    <td width="99" valign="top" align="left"></td>
  </tr>
  <tr>
    <td width="99" valign="top" align="left" bgcolor="#FFCC66">
      <p align="center">源代码</td>
  </tr>
  <tr>
    <td width="99" valign="top" align="left"><img border="0" src="../res/dir.gif" width="32" height="15"> 
      ASP</td> 
  </tr> 
  <tr> 
    <td width="99" valign="top" align="left"><img border="0" src="../res/dir.gif" width="32" height="15">  
      CGI</td> 
  </tr> 
  <tr> 
    <td width="99" valign="top" align="left"><img border="0" src="../res/dir.gif" width="32" height="15">  
      系统工具</td> 
  </tr> 
  <tr> 
    <td width="99" valign="top" align="left"><img border="0" src="../res/dir.gif" width="32" height="15">  
      游戏软件</td> 
  </tr> 
  <tr> 
    <td width="99" valign="top" align="left"><img border="0" src="../res/dir.gif" width="32" height="15">  
      其它</td> 
  </tr> 
  <tr> 
    <td width="99" valign="top" align="left"></td> 
  </tr> 
</table> 
 
<!--webbot bot="Include" endspan i-checksum="64578" -->

    </td>  
    <td width="85%" align="left" valign="top"><table border="1" width="32%" style="font-size: 9pt" height="30"  
    cellspacing="0" cellpadding="2" bgcolor="#FFFFFF" bordercolor="#000000"  
    bordercolordark="#FFFFFF">  
      <tr>  
        <td width="100%" bgcolor="#4264B5"><p align="center"><span style="font-size: 9pt"><font  
        color="#FFFFFF">资料整理&middot;<a href="http://chinaprog.yeah.net" target="_blank"  
        style="color: rgb(255,255,255)">中国程序员网站</a></font></span></td>  
      </tr>  
    </table>  
      <p><font class="a"><b>五、用户交互的管理</b>
      <p align="right">作 者 : <a href="mailto:microsoftwindows@126.com">仙人掌工作室</a>（译）
      <p>　　 直接面对用户请求的 Servlet 类 QuestionServlet 
      如清单 8 所示。会话状态数据将存储于 HttpSession 
      对象中。 HttpSession 对象由 Web 
      服务器创建，其生存期跨越多个 HTTP 
      连接。同一用户的不同问题请求共享同一 Test 类实例。
      <p>　　 <a href="http://www.chinabyte.com/builder/xmlist08.txt">【清单 
      8 】</a>
      <p>　　 QuestionServlet 类的 getParameter() 
      用于简化参数提取操作。 getInteger() 
      方法用于获取整数参数。 getTest() 
      方法返回指定用户（请求）的 Test 
      对象，如果不存在，则还需创建 Test 实例并将它存储到 
      HttpSession 对象中。
      <p>　　 QuestionServlet 的主要逻辑在 service() 
      方法中。此方法将捕获所有 GET 、 POST 
      请求。在本文中，页面请求和表单发送这两个操作在本质上是相似的，不同之处仅在于它们的起源。在获得输出流和 
      Test 实例之后， service() 
      方法接着记录用户对问题的回答，即检查所有的复选框和单选按钮，用 
      Selection 实例记录它们。
      <p>　　 在存储上述需要保留的数据之后， sevice() 
      方法接下来确定需要发送给用户的页面。用户可能按下了“上一问题”、“下一问题”、“成绩”按钮。如果是前两种情况，则接着计算应该发送给用户的问题，并调用 
      getQuestionPage() 方法返回对应的页面；如果用户按下的是“成绩”按钮，则调用 
      getScorePage() 
      返回成绩页面。如果用户在成绩页面中单击了问题链接，则显示对应的问题页面。 
      【图 5: 】<br>
      <img src="Filter5.gif" width="369" height="333">
      <p>　
      <p>　　 图 5 显示了本文给出的各个 Java 
      类之间的关系。请注意此图仅表示它们在功能上的联系，而不是继承关系。
      <p>　　 
      所有的代码均已完成，现在可以运行这个问答系统了。除了需要一般的 
      Servlet 运行环境之外，该 Servlet 还需要访问解析器。 IBM 
      的 XML 解析器封装在 xml4j_1_1_16.jar 文件中（版本号 1.1.16 
      ）。
      <p>　　 Java Web Server 和 JRun 都使用 servlets.properties 
      文件存放 servlet 配置选项。 QuestionServlet 
      能够自己识别所运行的位置，但 XML 
      文件的存放位置仍旧需要特别指明。在 servlets.properties 
      文件中需要加入的内容如下：
      <p>　　 servlet.QuestionServlet.code=QuestionServlet
      <p>　　 servlet.QuestionServlet.initargs=questions=/questions
      <p>　　 其中 servlet.QuestionServlet.initargs 设置为 
      questions=/questions 表示所有 XML 文件存放在 Web 
      服务器根目录下的 questions 子目录。</font>
      <p align="right">　
      <p><font class="a"><a href="xml4.htm">上一页</a>　 <a href="xml1.htm">第1页</a>　 
      <a href="xml2.htm">第2页</a>　 <a href="xml3.htm">第3页</a>　 <a href="xml4.htm">第4页</a>　 
      第5页　</font>  
      <p>　  
    </td>  
  </tr>  
  <tr>  
    <td width="100%" colspan="2" align="center" valign="top">　</td>  
  </tr>  
</table>  
</center></div>  

</body>

</html>
