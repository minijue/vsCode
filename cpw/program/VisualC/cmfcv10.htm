<html>

<head>
<title></title>
</head>

<body style="font-size: 9pt">

<table border="0" width="100%" bgcolor="#E8E8E8" style="font-size: 9pt" cellspacing="0"
cellpadding="2" height="160">
  <tr>
    <td width="100%" height="34"><table border="1" width="32%" height="30" cellspacing="0"
    cellpadding="2" style="font-size: 9pt">
      <tr>
        <td width="100%" bgcolor="#4264B5"><p align="center"><font color="#FFFFFF">资料整理<span
        class="f">&middot;</span><a href="http://fasoft.yeah.net" target="_blank"
        style="color: rgb(255,255,255)">中国程序员网站</a></font></td>
      </tr>
    </table>
    </td>
  </tr>
  <tr>
    <td width="100%" height="34">　<table border="0" width="100%">
      <tr>
        <td width="100%"></td>
      </tr>
    </table>
    </td>
  </tr>
  <tr>
    <td width="100%" height="8"><p align="center"><strong>MFC邮递表的中文翻译</strong></td>
  </tr>
  <tr>
    <td width="100%" height="14"></td>
  </tr>
  <tr>
    <td width="100%" height="14" style="font-size: 9pt">　<h3><font color="#000000">第十期目录</font> 
    <font SIZE="-1">Yu Hail 1998.11.5</font></h3>
    <ol>
      <li><a HREF="#vol10q1">CFormView中的上下文帮助?</a> </li>
      <li><a HREF="#vol10q2">CArchive类的WriteObject函数问题?</a> </li>
    </ol>
    <p><a NAME="vol10q1"></a></p>
    <p><br>
    </p>
    <h3><font color="#000000">Q:CFormView中的上下文帮助?</font></h3>
    <p><br>
    我想在基于CFormView类的SDI应用程序中加入真正的上下文帮助,但没有成功.<br>
    A:你应该重载CMyFormView类的OnHelpHitTest函数:<br>
    </p>
    <pre>
LRESULT CMyFormView::OnHelpHitTest(WPARAM, LPARAM lParam)
{
    LRESULT lResult = (LRESULT)0x00;

    CWnd* pWndChild = ChildWindowFromPoint(CPoint(lParam),CWP_ALL|CWP_SKIPINVISIBLE);

    if (pWndChild &amp;&amp; ::IsWindow(pWndChild-&gt;m_hWnd))
    {
        lResult = ::GetWindowLong(pWndChild-&gt;m_hWnd, GWL_ID);

        if (lResult)
            lResult += HID_BASE_COMMAND;
    }

    if (lResult == (LRESULT)0x00)
        lResult = ::GetWindowLong(m_hWnd, GWL_ID) + HID_BASE_RESOURCE;

    return lResult;
}
</pre>
    <p>然后你就可以使用平时用的帮助文件了,但你要保证有正确的前缀,请参照 
    TN028:Context-Sensitive Help Support.<br>
    例如: </p>
    <pre>
ID_SOME_MENU_ITEM_OR_COMMAND_BUTTON
IDR_SOME_WINDOW_OR_DIALOG
IDP_PROMPT
IDW_CONTROL_THAT_IS_NOT_A_COMAND_BUTTON
</pre>
    <p>你要确认你所使用的控件的ID包含在文件resource.hm中. </p>
    <p><a NAME="vol10q2"></a><br>
    </p>
    <h3><font color="#000000">Q:CArchive类的WriteObject函数问题?</font></h3>
    <p><br>
    谁知道在使用CArchive类的WriteObject函数时,如何避免将类名写入文件吗?<br>
    A:WriteObject函数不仅写入了类名,而且还写入PID(请查看TN02),如果你只想写进 
    一个文本文件,并且你也想用串行化,你可以使用文件指针(用GetFile)来存储字符串. 
    或者,你可以使用CFILE类来处理这个问题,如果是文本文件,你也可以用CStdioFile类.<br>
    </td>
  </tr>
  <tr>
    <td width="100%" height="14"><hr>
    </td>
  </tr>
  <tr>
    <td width="100%" height="14" align="center"><a href="cmfcv11.htm">前一期</a>|上一期</td>
  </tr>
  <tr>
    <td width="100%" height="14" align="center"><a href="http://mfc2000.yeah.net"
    target="_top">玉海园</a>[http://mfc2000.yeah.net]友情提供! </td>
  </tr>
</table>
<a href="cmfcv11.htm">

<p align="center"></a>　</p>
</body>
</html>
