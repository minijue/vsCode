<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<title>MP3 播放软件简介及开发指南</title>
<meta name="GENERATOR" content="Microsoft FrontPage 3.0">
</head>

<body>
<div align="center"><center>

<table border="0" cellspacing="2" cellpadding="0" width="95%" style="font-size: 9pt">
  <tr bgcolor="#CCFFCC">
    <td><span style="font-size: 9pt">现在的位置是： <b><a href="Del013.htm">Delphi</a>--&gt;</b> 
    </span>MP3播放软件简介及开发指南</td>
  </tr>
  <tr>
    <td></td>
  </tr>
</table>
</center></div><div align="center"><center>

<table border="1" width="95%" style="font-size: 9pt" bgcolor="#E8E8E8"
bordercolor="#C48C59" cellpadding="2">
  <tr>
    <td width="100%"><table border="1" width="32%" style="font-size: 9pt" height="30"
    cellspacing="0" cellpadding="2">
      <tr>
        <td width="100%" bgcolor="#4264B5"><p align="center"><font color="#FFFFFF">资料整理<span
        class="f">&middot;</span><a href="http://fasoft.yeah.net" target="_blank"
        style="color: rgb(255,255,255)">中国程序员网站</a></font></td>
      </tr>
    </table>
    </td>
  </tr>
  <tr>
    <td width="100%">　<p align="center"><strong>MP3播放软件简介及开发指南</strong><font
    size="-1"></p>
    <p align="right"></font><span style="font-family: 宋体; font-size: 9pt">作者 ： 
    裔隽 杨兴 </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">教 学 纲 要 </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　如 今 听 MP3 已 经 成 为 
    了 一 种 电 脑 界 的 时 尚 。 本 文 的 作 者 作 为 电 脑 爱 好 者 
    和 MP3 发 烧 友，非 但 给 我 们 介 绍 了 几 款 出 色 的 MP3 播 放 软 
    件，并 将 自 己 动 手 编 写 MP3 播 放 软 件 的 心 得 拿 出 来 和 大 
    家 共 享，你 可 千 万 不 能 错 过 哦！&nbsp; </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 MP3 是 最 近 几 年 发 
    展 起 来 的 一 种 全 新 的 音 乐 文 件 存 储 形 式 , 它 采 用 Mpeg 压 
    缩 格 式， 将 数 字 音 乐 以 每 分 钟 大 约 1MB 左 右 的 大 小 进 行 
    压 缩 存 储。 一 般 播 放 4-5 分 钟 的 一 首 歌 曲， 经 过 压 缩 后 
    可 以 只 有 4M 多。 MP3 音 乐 文 件 最 初 只 是 一 种 文 件 格 式 而 
    已， 但 由 于 它 的 极 高 的 压 缩 比 和 方 便 的 储 存 形 式， 现 
    在 已 经 发 展 为 一 种 现 象 ― ― &quot;MP3 现 象 &quot;。 </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 自 从 MP3 规 范 确 立 
    以 后， 各 种 在 计 算 机 上 播 放 MP3 格 式 的 程 序 层 出 不 穷， 
    由 于 在 互 联 网 上 有 许 多 的 MP3 站 点， 你 可 以 从 网 上 自 由 
    下 载 你 所 喜 欢 的 音 乐， 利 用 自 己 的 大 容 量 硬 盘 储 存 这 
    些 音 乐， 并 且 你 可 以 利 用 计 算 机 强 大 的 功 能 对 这 些 音 
    乐 进 行 分 类 整 理， 还 可 以 利 用 刻 录 机 刻 录 一 张 你 自 己 
    喜 欢 的 音 乐 光 盘， 它 与 一 般 的 CD 光 盘 最 大 的 不 同 点 在 
    于 一 张 MP3 光 盘 可 以 容 纳 上 百 首 音 乐， 用 现 在 功 能 强 大 
    的 MP3 播 放 器 播 放， 能 体 会 到 一 种 自 己 做 音 乐 的 感 觉。 
    当 然， 要 体 会 到 MP3 的 好 处， 选 择 一 个 合 适 的 MP3 播 放 软 
    件 是 非 常 重 要 的。 下 面 我 们 介 绍 一 些 常 用 的 MP3 播 放 软 
    件。 </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 （一）WinampWinamp <br>
    <img src="mp3001.gif" width="275" height="116"><br>
    </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 （二） Wplay </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 这 是 一 个 与 Winamp 齐 
    名 的 MP3 的 播 放 器， 几 乎 Winamp 有 的 功 能 它 都 有， 包 括 可 
    编 辑 播 放 清 单 和 ID3 Tag， 可 播 放 CD 等。 </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 下 面 我 们 来 看 一 
    看 Wplay： </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 Wplay 的 主 界 面， 一 
    个 漂 亮 华 丽 的 界 面。 它 的 主 页 是 www.Xaudio.com/, 你 可 以 在 
    它 的 主 页 上 下 载 最 新 的 版 本 和 新 的 Textures（类 似 于 Winamp 
    的 &quot;skin&quot;）。 </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 Wplay 的 功 能 非 常 强 
    大， 它 有 非 常 方 便 的 编 辑 曲 目 能 力 和 强 大 的 ID3 标 签 编 
    辑（可 以 编 辑 MP3 音 乐 的 名 字， 演 唱 者， 出 版 年 代 等 资 
    料）。 </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 左 图 为 Wplay 的 曲 目 
    编 辑 窗 口， 在 曲 目 编 辑 窗 口 中， 你 可 以 非 常 方 便 的 编 
    辑 你 平 时 喜 欢 听 的 一 些 MP3 歌 曲， 将 它 们 编 成 一 些 播 放 
    列 表。 <br>
    <img src="mp3003.gif" width="240" height="218"> </span></p>
    <p>　</p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 它 带 有 一 个 Audio 
    Manager， 如 下 图 所 示： </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 Audio Manager 允 许 你 通 
    过 外 挂 的 程 序 将 WAV 和 CD 格 式 的 音 乐 文 件 转 化 为 MP3 格 式 
    的 文 件， 同 时 它 还 支 持 将 MP3 文 件 转 回 为 WAV 格 式 的 文 
    件。 </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 Wplay 也 有 非 常 好 的 
    音 质 均 衡 器， 能 取 得 较 好 的 音 质 效 果。 </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 （三） JetAudio </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 界 面 豪 华 的 多 功 
    能 多 媒 体 播 放 器， 它 是 由 韩 国 人 开 发 的， 它 能 够 播 放 
    大 多 数 流 行 的 多 媒 体 文 件， 如 MP3 文 件， CD 唱 片， Wav 文 
    件， MIDI， AVI， MPG， VCD 等 格 式， 它 播 放 VCD 的 效 果 应 该 讲 
    还 是 不 错 的， 画 面 效 果 和 声 音 效 果 在 同 类 的 播 放 器 中 
    算 是 较 好 的， 不 过 由 于 纠 错 功 能 没 有 超 级 解 霸 强， 所 
    以 国 内 用 它 的 却 不 多， 但 放 其 它 的 格 式 的 文 件 应 该 是 
    一 个 不 错 的 选 择。 它 的 界 面 如 下： <br>
    <img src="mp3004.jpg" width="300" height="90"> </span></p>
    <p>　</p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 图 中 只 是 Jet-Aduio 的 
    六 个 面 板 中 的 一 个 ― ― MP3 播 放 器。 从 图 中 可 以 看 出， 
    播 放 界 面 精 致 、 漂 亮。 它 也 带 有 曲 目 播 放 列 表， 功 能 
    也 非 常 强 大， 操 作 也 较 为 简 单。 同 时 它 也 有 一 些 其 它 
    特 点： 如 具 有 3D 空 间， 回 响 音 响 效 果， 可 调 节 效 果 深 
    度。 同 时 带 有 ID3 标 签 编 辑（可 以 编 辑 MP3 音 乐 的 名 字， 
    演 唱 者， 出 版 年 代 等 资 料）， 可 以 帮 你 建 立 音 乐 资 料 
    库， 还 有 20 段 频 谱 显 示 分 析 器。 </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 总 的 来 讲， 要 取 得 
    较 好 的 MP3 音 乐 效 果， Jet-Audio 是 一 个 不 错 的 选 择。 </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 （四） 其 它 播 放 器 </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 还 有 一 些 常 用 的 
    MP3 播 放 器 如 超 级 解 霸， MuseArc 等 等， 这 里 就 不 一 一 介 绍 
    了。 </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 看 了 不 少 专 业 的 
    MP3 播 放 器 软 件， 现 在 我 们 来 介 绍 一 下 如 何 自 己 编 写 MP3 
    播 放 器 软 件。 我 们 以 WingPlayer： 这 个 我 们 写 的 MP3 播 放 器 
    软 件 为 例。 </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 WingPlayer 的 主 窗 口 在 
    设 计 时 候 的 界 面： <br>
    </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 在 这 个 软 件 里 我 
    们 主 要 用 到 的 是 MMTools 控 件 和 LMD 控 件， 其 中 MMTools 控 件 用 
    来 完 成 音 乐 的 播 放 和 相 关 显 示， LMD 控 件 用 来 完 成 其 他 
    一 些 系 统 功 能。 以 下 是 MMTools 的 有 关 信 息， 大 家 可 以 到 
    他 们 的 网 站 上 看 看： <br>
    <img src="mp3006.gif" width="408" height="217"> </span></p>
    <p>　</p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 MMTools 所 采 用 的 设 
    计 思 路 是 相 当 先 进 的， 至 今 在 别 的 控 件 群 中 也 很 少 看 
    到。 它 使 用 了 一 种 控 件 关 联 的 技 术， 使 我 们 可 以 在 设 
    计 阶 段 就 相 当 直 接 的 看 到 各 个 控 件 之 间 的 关 系， 从 上 
    面 的 图 中 我 们 可 以 看 到 音 频 处 理 的 控 件 和 显 示 音 频 
    效 果 的 控 件 之 间 的 这 种 关 联。 利 用 MMTools 我 们 可 以 真 正 
    的 感 觉 到 是 在 使 用 一 种 先 进 的 程 序 设 计 语 言， 程 序 的 
    功 能 实 现 只 需 要 将 各 个 控 件 有 机 地 组 合 在 一 起， 你 可 
    以 将 创 造 力 发 挥 到 极 限， 因 为 从 某 种 程 度 上 来 说，<br>
    <img src="mp3007.gif" width="300" height="127"> </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">技 术 已 经 不 是 制 约 软 
    件 发 展 的 主 要 因 素， 良 好 的 规 划、 合 理 的 设 计 起 到 了 
    很 大 的 作 用。 </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 下 面 我 们 来 看 一 
    下 WingPlayer 中 有 关 的 特 性 和 其 相 关 实 现 的 方 法。 由 于 我 
    们 不 可 能 将 所 有 的 代 码 都 公 开， 也 不 能 对 每 一 行 代 码 
    都 进 行 解 释， 因 此 这 里 介 绍 的 只 是 一 个 大 略 的 情 况， 
    如 果 你 对 MMTools 感 兴 趣， 可 以 到 他 们 的 站 点 去 下 载 相 关 
    的 控 件 和 例 子。 </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 WingPlayer 主 要 实 现 了 
    以 下 特 性： </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 1. 选 择 播 放 文 件。 </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 2. 播 放 MP3 文 件。 </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 3. 调 节 音 量。 </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 4. 编 辑 播 放 曲 目。 </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 5. 播 放 时 间 显 示。 </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 6. CPU 有 关 信 息 探 
    测。 </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 下 面 我 们 开 始 具 
    体 的 分 析 以 上 特 性 的 实 现 ( 以 下 代 码 由 Delphi 实 现 )： </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 1. 选 择 播 放 文 件。 
    选 择 播 放 文 件 包 括 用 标 准 文 件 打 开 窗 口 选 择 文 件， 然 
    后 将 文 件 传 送 到 MpegFile 控 件， 有 关 MP3 歌 曲 文 件 的 信 息 
    也 就 是 在 这 里 一 并 读 出。 这 里 的 核 心 是 SetFileParams 过 
    程， 它 将 所 有 面 板 上 相 应 的 元 素 的 显 示 设 置 全 部 完 
    成， 然 后 再 读 出 文 件 的 有 关 信 息 并 显 示。 <br>
    　　 procedure TMainForm.SetFileParams;begin <br>
    　　 if not MpegFile.Empty then <br>
    　　 with MpegFile do <br>
    　　 begin <br>
    　　 ms1.Enabled := True; <br>
    　　 ms2.Enabled := True; <br>
    　　 ms3.Enabled := True; <br>
    　　 ss1.Enabled := True; <br>
    　　 ss2.Enabled := True; <br>
    　　 mm1.Enabled := True; <br>
    　　 mm2.Enabled := True; <br>
    　　 digit.Enabled:= True; <br>
    　　 lblFile.Caption:= IntToStr(PlayIndex+1)+':'+UpperCase(ExtractFileName(Filename)); <br>
    　　 ledRate.Value := SampleRate div 1000; <br>
    　　 ledRate.Enabled := True; <br>
    　　 lblLayer.Visible := True; <br>
    　　 lblLayer2.Visible := True; <br>
    　　 case Layer of <br>
    　　 1: lblLayer2.Caption := 'I'; <br>
    　　 2: lblLayer2.Caption := 'II'; <br>
    　　 3: lblLayer2.Caption := 'III'; <br>
    　　 end; <br>
    　　 if (Mode = smJointStereo) or (Mode = smStereo) then <br>
    　　 ledMode.Mode := mStereo <br>
    　　 else <br>
    　　 ledMode.Mode := mMono; <br>
    　　 ledMode.Enabled := True; <br>
    　　 ledBitRate.Value := BitRate; <br>
    　　 ledBitRate.Enabled := True; <br>
    　　 lblBitRate.Caption := 'KBit/s'; <br>
    　　 end <br>
    　　 else if not WaveFile.Wave.Empty then <br>
    　　 with WaveFile.Wave do <br>
    　　 begin <br>
    　　 ms1.Enabled := True; <br>
    　　 ms2.Enabled := True; <br>
    　　 ms3.Enabled := True; <br>
    　　 ss1.Enabled := True; <br>
    　　 ss2.Enabled := True; <br>
    　　 mm1.Enabled := True; <br>
    　　 mm2.Enabled := True; <br>
    　　 digit.Enabled:= True; <br>
    　　 lblFile.Caption := IntToStr(PlayIndex+1)+':'+UpperCase(ExtractFileName(Filename)); <br>
    　　 ledRate.Value := SampleRate div 1000; <br>
    　　 ledRate.Enabled := True; <br>
    　　 lblLayer.Visible := False; <br>
    　　 lblLayer2.Visible := False; <br>
    　　 ledMode.Mode := Mode; <br>
    　　 ledMode.Enabled := True; <br>
    　　 ledBitRate.Value := BitLength; <br>
    　　 ledBitRate.Enabled := True; <br>
    　　 lblBitRate.Caption := 'Bit'; <br>
    　　 end <br>
    　　 else <br>
    　　 begin <br>
    　　 ms1.Enabled := False; <br>
    　　 ms2.Enabled := False; <br>
    　　 ms3.Enabled := False; <br>
    　　 ss1.Enabled := False; <br>
    　　 ss2.Enabled := False; <br>
    　　 mm1.Enabled := False; <br>
    　　 mm2.Enabled := False; <br>
    　　 digit.Enabled:= False; <br>
    　　 lblFile.Caption := 'NO FILE'; <br>
    　　 ledRate.Enabled := False; <br>
    　　 lblLayer.Visible := False; <br>
    　　 lblLayer2.Visible := False; <br>
    　　 ledMode.Enabled := False; <br>
    　　 ledBitRate.Enabled:= False; <br>
    　　 end;end; <br>
    </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 2. 播 放 MP3 文 件。 播 
    放 MP3 音 乐 文 件 由 于 使 用 了 MMTOOLS 控 件 的 功 能， 有 关 音 乐 
    解 码 和 播 放 的 烦 琐 工 作 已 经 全 部 由 这 些 控 件 完 成 了， 
    所 以 下 面 有 关 播 放 的 代 码 并 不 长， 主 要 还 是 处 理 和 播 
    放 列 表 文 件 相 关 的 代 码 多 一 些。 <br>
    　　 procedure TMainForm.btnPlayClick(Sender: TObject);begin //1998.8.11. edit Add some 
    option <br>
    　　 if (PlayList.Count = 0) then <br>
    　　 begin <br>
    　　 btnOpenClick(nil); <br>
    　　 Refresh; <br>
    　　 end; <br>
    　　 IncPlayList := False; <br>
    　　 if (PlayList.Count &gt; 0) then <br>
    　　 begin <br>
    　　 if not (wosPlay in WaveOut.State) then <br>
    　　 begin <br>
    　　 WaveOut.Start; <br>
    　　 end <br>
    　　 else if (wosPause in WaveOut.State) then <br>
    　　 WaveOut.Restart <br>
    　　 else <br>
    　　 begin <br>
    　　 WaveOut.Stop; <br>
    　　 WaveOut.Start; <br>
    　　 end; <br>
    　　 end; <br>
    　　 IncPlayList := True;end; <br>
    </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 大 家 可 以 看 到， 主 
    要 的 操 作 都 是 这 对 WaveOut 控 件 进 行 操 作 的， WaveOut 控 件 是 
    本 软 件 的 一 个 核 心， 它 负 责 将 MpegFile 控 件 解 码 后 的 声 
    音 数 据 播 放 出 来， 同 时 WaveOut 控 件 将 有 关 数 据 传 递 给 
    MMconnect1 控 件， 它 会 负 责 将 各 种 可 视 化 的 效 果 显 示 出 
    来。 </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 3. 调 节 音 量。 本 软 
    件 中 具 有 内 置 的 调 节 音 量 功 能。 通 过 以 下 代 码 来 实 
    现： <br>
    　　 procedure TMainForm.btnIncVolumeClick(Sender: TObject);var <br>
    　　 Volume,L,R: Longint;begin <br>
    　　 if (wosOpen in WaveOut.State) then <br>
    　　 begin <br>
    　　 WaveOutGetVolume(WaveOut.Handle,@Volume); <br>
    　　 L := LoWord(Volume); <br>
    　　 R := HiWord(Volume); <br>
    　　 L := Min(L + 5000,$FFFF); <br>
    　　 R := Min(R + 5000,$FFFF); <br>
    　　 Volume := (R shl 16) + L; <br>
    　　 WaveOutSetVolume(WaveOut.Handle,Volume); <br>
    　　 end;end; <br>
    </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 其 关 键 是 调 用 了 
    MMTools 的 WaveOutGetVolume 和 WavOutSetVolume 函 数 来 获 得 当 前 的 输 出 
    音 量， 然 后 再 设 置 输 出 音 量。 </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 4. 编 辑 播 放 曲 目。 
    编 辑 播 放 曲 目 功 能 是 一 个 优 秀 的 MP3 播 放 软 件 应 该 具 
    备 的， 本 软 件 所 支 持 的 编 辑 播 放 曲 目 功 能 相 对 来 说 还 
    比 较 简 单 的， 下 面 是 该 窗 口 的 设 计 时 画 面。 </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 5. 播 放 时 间 显 示。 
    在 播 放 时 显 示 播 放 时 间 将 能 够 起 到 很 好 的 视 觉 效 果， 
    本 软 件 只 要 是 通 过 了 MMTools 的 HiTimer 这 个 具 有 高 精 度 的 
    计 时 器 来 完 成 这 一 功 能， 下 面 是 高 精 度 计 时 器 的 响 应 
    代 码： <br>
    　　 procedure TMainForm.HiTimerTimer(Sender: TObject);var <br>
    　　 Time: Longint;begin <br>
    　　 {$IFDEF MPEGTRIAL} <br>
    　　 inc(TrialCount); <br>
    　　 if (TrialCount * HiTimer.Interval &gt;= 60000) then <br>
    　　 begin <br>
    　　 WaveOut.Pause; <br>
    　　 Show_AboutBox(5); <br>
    　　 TrialCount := 0; <br>
    　　 WaveOut.Restart; <br>
    　　 end; <br>
    　　 {$ENDIF} <br>
    　　 MMConnector1.Trigger; <br>
    　　 if (wosPlay in Waveout.State) and not Seeking then <br>
    　　 begin <br>
    <img src="mp3008.gif" width="555" height="260"> </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt"><br>
    　　 Time := WaveOut.Position; <br>
    　　 inc(CurTime,Time-OldTime); <br>
    　　 DrawTime(CurTime); <br>
    　　 OldTime := Time; <br>
    　　 if not MpegFile.Empty then <br>
    　　 begin <br>
    　　 Gauge.Value := MulDiv(MpegFile.Position, 100, MpegFile.Frames); <br>
    　　 ImageEOF.Visible := MpegFile.Position &gt;= MpegFile.Frames; <br>
    　　 end <br>
    　　 else <br>
    　　 begin <br>
    　　 Gauge.Value := MulDiv(WaveFile.Wave.Position, 100, WaveFile.Wave.DataSize); <br>
    　　 ImageEOF.Visible := WaveFile.Wave.Position &gt;= WaveFile.Wave.DataSize; <br>
    　　 end; <br>
    　　 end;end; <br>
    </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 下 面 的 DrawTime 过 程 
    具 体 完 成 了 在 面 板 上 显 示 时 间 的 功 能。 <br>
    　　 procedure TMainForm.DrawTime(Time: Longint);Var <br>
    　　 Hour, Min, Sec, MSec: Word; <br>
    　　 begin <br>
    　　 { Display the &quot;Time&quot; } <br>
    　　 TimeDecode(Time, Hour, Min, Sec, MSec); <br>
    　　 if (oMSec &lt;&gt; MSec) then <br>
    　　 begin <br>
    　　 ms1.Value := MSec; <br>
    　　 oMSec := MSec; <br>
    　　 end; <br>
    　　 if (oSec &lt;&gt; Sec) then <br>
    　　 begin <br>
    　　 ss1.Value := Sec; <br>
    　　 oSec := Sec; <br>
    　　 end; <br>
    　　 if (oMin &lt;&gt; Min) then <br>
    　　 begin <br>
    　　 mm1.Value := Min; <br>
    　　 oMin := Min; <br>
    　　 end;end; <br>
    <br>
    <img src="mp3009.gif" width="391" height="181"> </span></p>
    <p>　</p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 6. CPU 有 关 信 息 探 
    测。 由 于 CPU 的 处 理 能 力 很 大 程 度 上 影 响 到 MP3 播 放 质 
    量， 所 以 我 们 特 地 参 考 有 关 技 术 资 料 设 计 了 这 段 CPU 监 
    测 的 代 码。 这 段 代 码 的 核 心 控 件 是 cxCPU 控 件， 下 面 的 
    窗 口 显 示 的 是 该 控 件 的 相 关 信 息， 有 兴 趣 的 话， 可 以 
    和 他 们 联 系。 </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 以 下 的 代 码 是 显 
    示 相 关 的 CPU 信 息： <br>
    　　 procedure TPreferencesForm.FormCreate(Sender: TObject);begin <br>
    　　 with cxCPU1 do begin <br>
    　　 // Pimary detection <br>
    　　 lblPrimary.Caption := Format(lblPrimary.Caption, [FullName]); <br>
    　　 // Detected Information <br>
    　　 with cxCPUInfo do begin <br>
    　　 lblType.Caption := Format(lblType.Caption, [IntToStr(cpuType)]); <br>
    　　 lblFamily.Caption := Format(lblFamily.Caption, [IntToStr(cpuFamily)]); <br>
    　　 lblModel.Caption := Format(lblModel.Caption, [IntToStr(cpuModel)]); <br>
    　　 lblStepping.Caption := Format(lblStepping.Caption, [IntToStr(cpuStepping)]); <br>
    　　 end; <br>
    　　 // Identified information <br>
    　　 lblVendor.Caption := Format(lblVendor.Caption, [Vendor]); <br>
    　　 lblModelName.Caption := Format(lblModelName.Caption, [CPU]); <br>
    　　 if (MMX) then lblMMX.Caption := Format(lblMMX.Caption, ['Yes']) <br>
    　　 else lblMMX.Caption := Format(lblMMX.Caption, ['No']); <br>
    　　 // Benchmark the CPU <br>
    　　 cx_BenchCPU; <br>
    　　 lblSpeed.Caption := Format(lblSpeed.Caption, [IntToStr(Speed)]); <br>
    　　 end;end; <br>
    </span></p>
    <p><span style="font-family: 宋体; font-size: 9pt">　　 上 面 概 要 讲 述 了 
    WingPlayer MP3 播 放 软 件 的 实 现 原 理。 从 中 大 家 可 以 领 略 到 
    借 助 于 功 能 强 大 的 MMTools 控 件， 我 们 可 以 多 么 方 便 的 来 
    创 建 属 于 自 己 的 音 乐 处 理 软 件， MMTools 现 在 已 经 有 了 
    1.53 版 本， 我 们 也 正 在 尝 试 从 的 Delphi3 到 Delphi4 的 移 植 工 
    作。 事 实 上， MMTools 软 件 也 正 是 目 前 处 理 声 音 方 面 的 控 
    件 的 唯 一 之 选。</span><font size="-1"> </font></p>
    <p>　</td>
  </tr>
</table>
</center></div>
</body>
</html>
