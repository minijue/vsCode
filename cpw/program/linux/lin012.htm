<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=x-x-big5">
<meta name="GENERATOR" content="Microsoft FrontPage 3.0">
<title>Linux世 界 下 的 撥 接 網 路 </title>
</head>

<body bgcolor="#FFFFFF">

<table border="0" cellspacing="2" cellpadding="0" width="100%" style="font-size: 9pt">
  <tr bgcolor="#CCFFCC">
    <td><span style="font-size: 9pt">?在的位置是： <b><a href="linuxidx.htm">Unix/Linux</a> 
    &gt;</b> </span>Linux世界下的?接网?</td>
  </tr>
  <tr>
    <td></td>
  </tr>
</table>

<table border="0" width="100%" style="font-size: 9pt" bgcolor="#E8E8E8">
  <tr>
    <td width="100%"><table border="1" width="32%" style="font-size: 9pt" height="30"
    cellspacing="0" cellpadding="2">
      <tr>
        <td width="100%" bgcolor="#4264B5"><p align="center"><font color="#FFFFFF">?料整理<span
        class="f">&middot;</span><a href="http://fasoft.yeah.net" target="_blank"
        style="color: rgb(255,255,255)">中?程序?网站</a></font></td>
      </tr>
    </table>
    </td>
  </tr>
  <tr>
    <td width="100%">　<table border="0" width="100%" bgcolor="#E8E8E8">
      <tr>
        <td width="100%"></td>
      </tr>
    </table>
    </td>
  </tr>
  <tr>
    <td width="100%"><p align="center"><strong>Linux世界下的?接网?</strong></td>
  </tr>
  <tr>
    <td width="100%"></td>
  </tr>
  <tr>
    <td width="100%"><dl>
      <dt>因 為 有 許 多 讀 者 來 信 問 我 有 關 撥 接 網 路 的 問 題 ， 不 
        過 筆 者 當 時 並 沒 有 一 一 回 覆 ， 原 因 無 他 ， 只 因 筆 者 
        所 在 的 網 路 世 界 是 LAN(區 域 網 路 )， 在 區 域 網 路 內 筆 者 
        不 需 要 用 到 撥 接 的 網 路 ， 所 以 筆 者 對 這 方 面 也 沒 有 
        好 好 的 去 研 究 ， 因 此 也 無 法 回 答 讀 者 的 來 信 ， 在 此 
        說 聲 抱 歉 ！ 再 者 ， 筆 者 當 時 正 處 於 低 潮 期 ， 所 以 就 
        先 行 放 掉 一 些 事 情 ， 跑 出 去 瘋 狂 了 。 因 此 ， 筆 者 將 
        一 些 問 題 就 這 樣 擱 下 了 ， 在 此 對 曾 經 來 信 問 筆 者 一 
        些 問 題 ， 而 筆 者 沒 有 回 覆 你 的 人 再 說 一 聲 抱 歉 ！ 希 
        望 本 篇 的 專 欄 能 解 除 一 些 讀 者 有 關 撥 接 網 路 的 問 題 
        。 </dt>
      <dd>　</dd>
      <dt><font color="#FF0000" size="4">支 援 多 種 實 體 介 面 </font></dt>
      <dt>在 Linux的 世 界 裡 ， 網 路 是 一 項 與 之 有 切 身 關 係 的 功 能 
        ， 也 是 Linux最 讓 人 欣 賞 的 功 能 ， 也 因 為 如 此 ， Linux內 建 
        了 完 整 的 網 路 功 能 ， 而 且 還 支 援 了 多 種 實 體 介 面 的 
        TCP/IP網 路 ， 像 是 Ethernet、 序 列 埠 、 並 列 埠 。 <br>
        一 般 而 言 ， 讀 者 可 以 使 用 Ethernet網 路 來 做 區 域 網 路 
        (LAN)的 使 用 。 而 且 透 過 Modem還 可 以 連 上 其 他 的 網 路 ， 在 
        這 一 方 面 ， Linux支 援 了 SLIP(Serial Line Internet Protocol)和 PPP 
        (Point-to-Point Protocol)兩 種 通 訊 協 定 。 <br>
        在 撥 接 網 路 中 ， 讀 者 可 以 執 行 TCP/IP或 其 他 的 網 路 協 定 
        。 在 連 線 中 此 網 路 協 定 可 以 交 換 資 料 的 封 包 ， 因 此 
        讀 者 可 以 在 連 線 中 使 用 任 何 一 項 網 路 的 應 用 程 式 ， 
        由 於 所 有 應 用 程 式 皆 有 資 料 傳 輸 的 能 力 ， 讀 者 可 以 
        同 時 使 用 網 路 瀏 覽 器 和 執 行 telnet的 程 式 等 等 ， 透 過 撥 
        接 網 路 ， 讀 者 的 電 腦 就 可 以 成 為 遠 端 網 路 的 一 部 份 
        ， 進 而 遨 遊 於 網 路 的 世 界 。 </dt>
      <dd>　</dd>
      <dt><font color="#FF0000" size="4">以 PPP連 至 遠 端 網 路 做 法 </font></dt>
      <dt>因 為 Linux有 內 建 TCP/IP， 所 以 筆 者 就 以 TCP/IP的 功 能 來 介 紹 
        如 何 撥 接 進 入 網 路 的 世 界 。 由 於 目 前 外 界 是 以 PPP協 定 
        為 主 ， 因 此 筆 者 就 先 介 紹 以 PPP協 定 連 接 至 遠 端 網 路 的 
        做 法 ： </dt>
      <dt>　</dt>
      <dt><font color="#FF0000">1.檢 查 核 心 是 否 支 援 PPP</font></dt>
      <dt>要 使 用 PPP協 定 之 前 ， 讀 者 必 須 確 定 讀 者 的 Linux是 否 可 
        以 支 援 PPP， 在 make config的 時 候 ， 讀 者 可 以 看 到 以 下 的 訊 
        息 ， 讀 者 應 選 擇 yes， 以 便 可 以 讓 核 心 支 援 PPP。 <br>
        <font color="#FF0000">ppp{point-to-point}suport(CONFIG_PPP)[y]</font><br>
        讀 者 可 以 開 啟 這 份 文 件 /proc/nrt/dev 來 看 看 你 的 PPP裝 置 是 
        否 可 用 ？ 若 是 可 以 使 用 ， 讀 者 應 該 可 以 看 到 ppp0、 
        ppp1、 ppp2、 ppp3等 四 個 裝 置 。 此 外 ， 讀 者 也 可 以 由 開 機 
        訊 息 來 知 道 核 心 是 否 支 援 PPP協 定 ， 讀 者 只 要 鍵 入 
        dmseg|more的 命 令 便 可 以 清 楚 的 看 到 開 機 訊 息 ， 只 要 讀 者 
        有 看 到 以 下 類 似 的 一 堆 PPP的 字 眼 就 對 了 ， 因 為 筆 者 是 
        使 用 區 域 網 路 (LAN)， 所 以 在 PPP之 後 的 一 些 訊 息 不 是 一 
        般 外 界 的 PPP協 定 的 訊 息 ， 不 過 只 要 出 現 有 這 一 堆 類 似 
        的 PPP訊 息 ， 就 表 示 讀 者 的 核 心 有 支 援 PPP協 定 了 ， 如 。 </dt>
      <dd>　</dd>
      <dt><font color="#FF0000">2.收 集 PPP的 連 線 資 料 </font></dt>
      <dt>許 多 撥 接 網 路 的 提 供 者 都 提 供 PPP連 線 到 Internet， 因 此 
        當 讀 者 向 這 些 業 者 (例 如 HiNet或 SeedNet)申 請 帳 號 時 ， 那 麼 
        讀 者 必 須 像 這 些 單 位 索 取 一 些 連 線 必 需 的 資 料 ， 最 
        少 必 須 有 以 下 這 一 些 資 料 ： <br>
        (1)連 線 端 的 IP address(即 是 所 要 連 線 主 機 的 IP address)。 <br>
        (2)ISP PPP介 面 的 IP address(就 是 gateway的 address)<br>
        (3)連 線 到 遠 端 系 統 的 電 話 號 碼 。 <br>
        (4)登 入 遠 端 系 統 所 需 的 帳 號 及 密 碼 。 <br>
        (5)以 及 一 些 其 他 伺 服 器 的 IP address， 例 如 name server,mail 
        server和 news server的 IP address。 </dt>
      <dt>　</dt>
      <dt>3.使 用 pppd配 合 chat來 連 線 </dt>
      <dt>在 兩 個 系 統 間 設 定 一 個 PPP網 路 ， 那 麼 雙 方 都 必 須 執 
        行 PPP程 式 ， 由 於 目 前 外 界 的 撥 接 業 者 都 已 經 在 他 們 的 
        機 器 上 設 定 好 了 ， 只 要 讀 者 登 入 他 們 的 機 器 後 ， 立 
        即 會 執 行 PPP程 式 ， 因 此 就 只 剩 下 讀 者 登 入 他 們 的 系 統 
        後 ， 設 定 好 自 己 的 PPP程 式 。 所 以 ， 設 定 PPP的 基 本 步 驟 
        就 出 來 啦 ： <br>
        (1)撥 號 並 登 入 撥 接 系 統 (此 時 遠 端 的 系 統 就 會 直 接 執 
        行 PPP的 程 式 )。 <br>
        (2)在 自 己 的 Linux主 機 上 執 行 PPP程 式 <br>
        此 時 讀 者 只 要 在 自 己 的 機 器 上 執 行 pppd(Point-to-Point Deamon)， 
        而 pppd程 式 就 會 非 常 自 動 的 幫 讀 者 啟 動 PPP程 式 。 在 
        Linux系 統 中 普 遍 是 使 用 pppd再 配 合 chat這 個 程 式 ， 如 果 讀 
        者 的 系 統 是 用 前 一 陣 子 Hope_Net所 附 的 光 碟 片 所 安 裝 的 
        話 ， 那 麼 讀 者 可 以 在 /usr/sbin/內 找 到 這 兩 個 程 式 。 <br>
        (3)使 用 chat程 式 <br>
        清 楚 chat作 業 方 式 ， 便 可 以 善 用 它 來 自 動 撥 號 及 登 入 
        撥 接 端 的 系 統 ， 此 程 式 是 會 先 來 讀 入 一 個 以 espect-send為 
        字 串 的 script， 當 收 到 expect字 串 後 ， 就 會 送 出 send的 字 串 
        。 因 此 當 讀 者 要 chat等 待 login:， 而 我 這 裡 要 回 覆 一 個 使 
        用 者 名 稱 ， 之 後 我 要 等 待 password:， 當 提 示 出 現 後 我 要 
        送 出 我 的 密 碼 ， 我 就 可 以 使 用 以 下 的 script來 完 成 。 <br>
        <font color="#FF0000">login:username password:mypassword<br>
        login:username word:mypassword </font><br>
        解 說 ： 第 一 個 做 法 是 完 全 知 道 要 登 入 的 撥 接 系 統 所 
        出 現 的 提 示 命 令 所 用 的 。 <br>
        第 二 個 做 法 則 是 為 了 因 應 不 同 的 主 機 而 出 現 不 同 的 
        提 示 符 號 所 設 定 的 ， 理 論 上 是 第 二 種 為 通 用 型 ， 第 
        一 種 為 專 用 型 ， 端 看 讀 者 的 喜 好 及 習 慣 ， 簡 單 來 說 
        ， 方 便 就 好 。 <br>
        (4)等 待 時 間 。 <br>
        當 chat在 等 待 一 個 字 串 時 ， 必 須 配 合 一 個 等 待 時 間 的 
        作 業 ， 如 果 要 輸 入 的 字 串 未 在 規 定 的 時 間 內 傳 出 ， 
        此 時 chat便 可 以 移 到 下 一 個 要 執 行 的 expect字 串 。 當 然 同 
        樣 的 ， 讀 者 也 可 以 自 己 來 設 定 等 待 時 間 ， 在 chat命 令 
        裡 它 是 以 TIMEOUT命 令 ， 以 下 是 它 的 做 法 ： <br>
        TIMEOUT 10 ogin:username TIMEOUT 10 word:mypassword<br>
        在 這 個 例 子 中 ， 如 果 chat在 等 待 時 間 中 沒 有 收 到 login:提 
        示 符 號 ， chat會 送 出 一 個 return(就 是 鍵 盤 上 的 Enter)， 然 後 
        再 等 一 次 login:提 示 符 號 出 現 。 <br>
        (5)ABORT字 串 。 <br>
        對 於 大 多 數 的 modem會 以 字 串 方 式 來 報 告 目 前 連 線 狀 態 
        ， 因 此 我 們 就 應 該 對 此 瞭 解 ， 大 多 數 的 modem都 會 回 報 
        目 前 連 線 的 的 狀 態 ， 包 括 連 線 速 率 等 等 資 料 ， 因 此 
        當 遠 端 撥 接 系 統 忙 線 時 ， modem會 送 出 BUSY字 串 ， 或 當 
        modem收 不 到 載 波 時 ， 會 送 出 NO CARRIER。 因 此 想 要 在 modem除 
        了 傳 回 CONNECT以 外 的 字 串 時 停 止 連 線 ， 就 可 以 使 用 
        ABORT命 令 來 做 這 些 動 作 ， 當 chat遇 到 指 定 的 字 串 時 就 會 
        取 消 撥 號 ， 以 下 就 是 一 個 例 子 ： <br>
        <font color="#FF0000">ABORT BUSY ABORT “ NO CARRIER” “ ” ATZ OK ATDT4638800</font><br>
        上 面 的 例 子 是 說 明 當 modem回 報 BUSY和 NO CARRIER則 取 消 目 前 的 
        連 線 ， 而 重 新 開 啟 連 線 。 其 中 ABORT BUSY是 將 BUSY設 定 成 取 
        消 字 串 ， ABORT“ NO CARRIER” 則 是 將 NO CARRIER設 定 成 取 消 字 串 
        ， 而 加 上 雙 引 號 的 原 因 則 是 因 為 中 間 有 空 白 ， 因 此 
        加 上 雙 引 號 以 將 這 兩 個 字 當 成 一 個 Script的 字 串 ， 之 後 
        的 雙 引 號 則 是 表 示 要 讓 linux主 機 不 做 任 何 的 等 待 ， 
        ATZ則 是 使 chat命 令 直 接 重 置 modem， 然 後 chat等 待 modem回 應 OK字 
        串 後 就 送 出 撥 號 命 令 (ATDT其 後 所 接 著 的 電 話 號 碼 )。 </dt>
      <dt>　</dt>
      <dt><font color="#FF0000" size="4">4.使 用 pppd配 合 chat script</font></dt>
      <dt>了 以 上 這 些 之 後 ， 讀 者 應 該 可 知 道 要 完 成 撥 接 的 動 
        作 應 有 哪 些 動 作 了 吧 。 PPP網 路 實 際 上 是 利 用 PPP 
        demon---pppd來 處 理 這 些 繁 瑣 的 事 情 ， 它 用 到 了 Linux核 心 中 
        的 PPP驅 動 程 式 碼 ， 這 些 動 作 的 目 的 就 是 為 了 要 在 串 列 
        埠 交 換 TCP/IP的 封 包 。 現 在 我 們 就 來 組 合 這 些 動 作 吧 ！ <br>
        (1)撥 號 並 完 成 與 遠 端 撥 號 系 統 的 登 入 作 業 <br>
        此 時 遠 端 的 撥 號 系 統 就 會 在 遠 端 啟 動 PPP的 程 式 ， 而 等 
        待 讀 者 這 一 端 的 PPP程 式 的 對 應 訊 號 。 <br>
        (2)在 自 己 的 機 器 上 啟 動 PPP deamon<br>
        以 便 完 成 初 始 化 的 設 定 ， 並 開 始 處 理 遠 端 撥 號 系 統 
        所 送 出 的 PPP作 業 。 <br>
        (3)執 行 chat命 令 以 完 成 一 開 始 的 批 次 命 令 的 作 業 <br>
        原 則 上 pppd就 是 為 了 以 上 兩 個 步 驟 所 設 計 出 來 的 程 式 
        ， 因 此 在 基 本 上 ， 都 是 使 用 chat命 令 來 執 行 第 一 步 驟 
        ， 但 也 可 以 不 用 如 此 麻 煩 的 分 兩 次 動 作 來 執 行 pppd和 
        chat， 只 要 讀 者 在 pppd的 命 令 中 呼 叫 chat script， 那 麼 便 可 以 
        同 時 執 行 以 上 步 驟 。 以 下 就 是 筆 者 的 做 法 ， 如 範 例 
        一 。 </dt>
      <dd>　</dd>
      <dt><font color="#FF0000" size="4">5.建 立 一 個 PPP撥 號 的 script</font><br>
        如 果 讀 者 常 常 透 過 撥 接 系 統 來 上 網 的 話 ， 那 麼 每 次 
        都 要 打 那 麼 一 長 串 的 命 令 動 作 ， 絕 對 是 不 符 合 目 前 
        資 訊 社 會 的 需 要 ， 因 此 筆 者 在 這 裡 建 議 各 位 讀 者 一 
        定 要 建 立 一 個 專 屬 的 shell script來 幫 助 讀 者 執 行 pppd， 在 
        這 裡 筆 者 假 設 各 位 讀 者 都 已 經 建 立 好 一 個 專 屬 撥 接 
        系 統 用 的 shell srcipt(dial-ppp)， 因 此 這 時 候 讀 者 只 需 執 行 這 
        個 shell script就 可 以 設 定 PPP的 連 線 了 ， 如 範 例 二 就 是 一 個 
        簡 單 的 PPP撥 號 網 路 的 shell script範 例 ， 它 是 一 個 不 錯 的 範 
        例 （ 註 一 ） 。 </dt>
      <dt>　</dt>
      <dt><font color="#FF0000" size="4">6.測 試 PPP連 線 </font><br>
        在 你 執 行 完 shell script並 完 成 連 線 作 業 後 ， 你 可 以 打 
        ifconfig這 個 命 令 來 檢 查 看 看 目 前 的 PPP網 路 連 線 是 否 正 常 
        ， 應 該 會 列 出 的 項 目 ， 如 。 <br>
        各 位 讀 者 應 該 可 以 在 輸 出 中 找 到 pppO裝 置 ， ifconfig也 會 
        告 知 兩 端 的 IP address， 由 此 便 確 認 了 PPP裝 置 已 完 成 連 線 
        並 且 已 經 在 作 業 中 。 接 下 來 就 是 查 驗 路 由 表 是 否 正 
        確 設 定 ， 這 時 候 鍵 入 route命 令 ， 如 ： <br>
        在 路 由 表 中 ， 第 一 行 是 對 遠 端 撥 接 系 統 的 路 由 ， 此 
        路 由 應 該 被 設 定 至 PPP0裝 置 ， 同 樣 的 ， 預 設 路 由 也 應 
        該 被 設 定 為 PPP0(路 由 表 的 最 後 一 行 )， 這 樣 遠 端 撥 接 系 
        統 才 會 被 當 作 是 gateway。 <br>
        在 這 些 動 作 之 後 ifconfig和 route命 令 會 檢 查 完 所 有 的 介 面 
        規 劃 以 及 路 由 表 ， 因 此 讀 者 這 時 候 就 可 以 試 試 目 前 
        這 個 系 統 是 否 能 夠 連 上 網 路 ， 如 果 你 的 ISP業 者 (就 像 
        HiNet或 SeedNet或 其 他 的 撥 接 系 統 的 提 供 者 )有 提 供 你 name 
        server或 mail server的 IP sddress， 讀 者 就 可 以 試 著 去 Ping那 些 位 址 
        ， 或 者 是 其 他 讀 者 所 熟 悉 的 位 址 ， 例 如 辦 公 室 或 大 
        學 各 系 統 的 IP address。 <br>
        當 讀 者 去 ping某 個 位 址 時 ， 應 該 可 以 看 到 如 <br>
        的 訊 息 ： <br>
        在 每 一 行 的 末 端 表 示 封 包 來 回 兩 端 所 花 的 時 間 ， 以 
        電 話 線 路 而 言 ， 你 應 該 會 看 到 來 回 時 間 應 為 數 百 ms(百 
        萬 分 之 一 秒 )。 因 此 當 讀 者 看 到 以 上 的 訊 息 時 ， 表 示 
        讀 者 的 機 器 已 經 可 以 遨 遊 於 網 路 上 啦 。 在 此 筆 者 先 
        向 各 位 讀 者 說 聲 恭 喜 啦 ！ </dt>
      <dd>　</dd>
      <dt><font color="#FF0000" size="4">7.結 束 PPP連 線 </font><br>
        在 PPP建 立 連 線 後 ， 只 要 撥 接 的 機 器 和 讀 者 的 機 器 上 的 
        PPP軟 體 持 續 執 行 ， 就 會 一 直 保 持 連 線 ， 如 果 讀 者 不 想 
        繼 續 連 線 ， 可 以 停 止 pppd這 個 程 式 來 停 止 連 線 。 在 設 
        定 PPP連 線 後 ， pppd會 建 一 個 檔 在 /var/run目 錄 下 ， 這 目 錄 有 
        存 放 pppd作 業 的 ID， 檔 名 是 依 據 你 所 用 的 裝 置 而 定 ， 如 
        使 用 第 一 個 PPP連 線 裝 置 pppO， 那 麼 作 業 ID檔 便 是 
        /var/run/PPP0.Pid， 因 此 讀 者 就 可 以 利 用 這 個 檔 案 來 寫 一 個 
        shell script來 停 止 pppd的 作 業 ID。 不 過 筆 者 並 不 是 再 寫 一 個 
        shell script來 終 止 pppd的 作 業 ， 而 是 利 用 另 一 個 Linux本 身 內 
        附 的 程 式 來 終 止 這 項 連 線 動 作 的 ， 相 信 這 時 候 一 定 
        有 許 多 讀 者 想 知 道 是 哪 個 程 式 ， 呵 呵 ， 其 實 啊 ， 在 
        我 們 使 用 pppd這 個 程 式 的 目 錄 下 ， 其 實 已 經 有 一 個 shell 
        script可 以 來 終 止 這 個 pppd的 連 線 ， 那 個 就 是 ppp-off， 不 過 
        如 果 讀 者 要 使 用 這 個 script來 中 斷 連 線 作 業 的 話 ， 那 就 
        必 須 以 root的 身 分 登 入 自 己 的 系 統 才 行 。 因 此 ， 此 時 
        讀 者 只 需 鍵 入 /usr/sbin/ppp-off就 可 以 中 斷 PPP的 連 線 而 離 開 
        網 路 的 世 界 了 。 </dt>
      <dd>　</dd>
      <dt><font color="#FF0000" size="4">SLIP撥 接 網 路 的 使 用 </font></dt>
      <dt>說 到 這 裡 ， 不 禁 讓 筆 者 想 到 一 件 事 ， 所 有 人 都 知 道 
        目 前 台 灣 的 網 路 環 境 尚 未 健 全 ， 其 原 因 不 外 乎 是 因 
        為 中 華 電 信 公 司 還 無 法 完 全 將 一 些 電 信 設 備 的 使 用 
        權 和 一 些 通 訊 協 定 設 施 的 掌 控 權 交 付 給 其 他 的 公 司 
        ， 以 致 台 灣 目 前 的 撥 接 網 路 是 如 此 的 無 奈 ， 尤 其 是 
        連 線 的 品 質 低 落 ， 以 致 於 許 多 人 都 不 願 意 另 外 再 支 
        付 網 路 的 使 用 費 ， 這 種 現 象 尤 其 是 發 生 在 學 生 身 上 
        ， 因 此 許 多 學 生 尤 其 是 大 學 生 ， 更 是 絕 大 多 數 是 使 
        用 自 己 學 校 所 提 供 的 撥 號 網 路 ， 而 目 前 學 術 網 路 的 
        一 些 舊 型 的 網 路 設 施 都 是 以 slip來 做 網 路 撥 接 的 服 務 
        的 協 定 ， 因 此 許 多 學 生 就 必 須 學 會 如 何 使 用 slip的 撥 
        接 系 統 了 。 尤 其 是 對 於 Linux的 學 生 使 用 群 而 言 更 是 如 
        此 ， 因 此 筆 者 就 來 介 紹 一 下 slip的 撥 接 網 路 的 使 用 吧 
        ！ </dt>
      <dd>　</dd>
      <dt><font color="#FF0000">1.檢 查 核 心 是 否 支 援 slip</font></dt>
      <dt>和 PPP的 撥 接 方 式 一 樣 ， 讀 者 在 使 用 slip連 線 之 前 ， 都 
        是 必 須 建 立 一 個 同 等 形 態 的 連 線 ， 因 此 ， 在 這 裡 我 
        們 首 先 要 做 的 事 就 是 要 建 立 一 個 slip的 連 線 。 因 此 讀 
        者 的 核 心 也 必 須 支 援 TCP/IP， 並 且 也 必 須 支 援 slip， 如 果 
        讀 者 的 核 心 沒 有 支 援 的 話 ， 那 麼 讀 者 就 應 該 先 行 更 
        新 核 心 ， 這 一 部 份 以 前 筆 者 就 已 經 在 「 輕 輕 鬆 鬆 架 
        構 Linux主 機 」 的 那 一 篇 專 欄 就 已 經 提 過 了 ， 因 此 就 不 
        再 多 說 了 。 建 立 slip連 線 的 第 一 步 當 然 是 撥 號 至 遠 端 
        電 腦 ， 登 入 並 啟 動 對 方 的 slip連 線 ， 之 後 讀 者 也 必 須 
        在 自 己 這 一 端 啟 動 slip連 線 。 在 兩 方 都 開 始 執 行 slip後 
        ， 就 表 示 讀 者 已 經 完 成 了 slip連 線 的 第 一 步 了 ， 因 此 
        在 讀 者 開 始 執 行 slip前 ， 讀 者 就 應 該 檢 查 一 下 核 心 是 
        否 支 援 slip， 要 知 道 系 統 目 前 已 經 規 劃 的 網 路 裝 置 ， 
        讀 者 除 了 可 以 繼 續 沿 用 筆 者 在 PPP連 線 部 份 所 介 紹 的 方 
        法 外 ， 讀 者 還 可 以 鍵 入 cat/proc/net/dev。 如 就 是 一 個 範 例 
        ： <br>
        由 以 上 的 例 子 ， 我 們 所 看 到 只 要 有 出 現 sl0、 sl1、 sl2、 
        sl3就 表 示 讀 者 系 統 的 核 心 已 經 有 支 援 slip了 ， 所 以 我 們 
        就 可 以 進 行 下 一 個 步 驟 了 。 <br>
      </dt>
      <dt><font color="#FF0000">2.獲 得 遠 端 撥 接 系 統 的 資 訊 </font></dt>
      <dt>要 對 遠 端 撥 接 系 統 建 立 正 確 穩 定 的 slip連 線 ， 就 必 須 
        參 照 其 系 統 設 定 來 設 定 你 的 電 腦 ， 譬 如 ， 筆 者 在 元 
        智 大 學 申 請 了 帳 號 ， 那 麼 筆 者 就 應 該 會 拿 到 有 關 
        slip連 線 的 相 關 資 料 ， 這 些 資 料 至 少 應 包 括 下 列 數 項 
        ： <br>
        (1)元 智 大 學 遠 端 撥 接 電 腦 的 電 話 號 碼 。 <br>
        (2)登 入 元 智 大 學 撥 接 系 統 所 需 的 使 用 者 帳 號 及 密 碼 。 
        <br>
        (3)一 些 伺 服 器 的 IP address。 這 些 包 括 Name server， Mail server的 IP 
        address。 <br>
        一 般 來 說 ， slip在 設 定 好 帳 號 後 ， 當 讀 者 登 入 完 成 ， 
        系 統 就 會 自 動 啟 動 slip這 個 程 式 ， 不 過 這 個 程 式 會 取 
        代 了 讀 者 帳 號 原 本 指 定 的 shell（ 如 bin/bash） ， 因 此 讀 者 
        的 系 統 會 在 自 己 的 系 統 下 ， 留 下 以 下 的 資 料 存 放 於 
        /etc/passwd檔 中 ： <br>
        <font color="#FF0000">ibm:tTX5z8emBwv6o:514:100::/www/ibm: /bin/tcsh</font><br>
        <br>
        在 這 一 行 中 ， 冒 號 是 用 來 區 分 欄 位 的 ， 第 一 欄 是 使 
        用 者 名 稱 而 最 後 兩 欄 則 是 使 用 者 目 錄 及 所 使 用 的 
        shell， 因 此 當 讀 者 登 入 slip網 路 時 ， 有 可 能 會 變 成 ： <br>
        <font color="#FF0000">slipxxx:XTX5z4e4Bw66o:533:100:Slip_xxx:/slip:/usr/bin/ppl</font><br>
        在 這 一 行 內 使 用 者 和 使 用 者 目 錄 或 許 會 不 同 ， 但 最 
        後 一 欄 則 是 遠 端 撥 接 系 統 的 slip程 式 檔 名 (這 是 以 一 台 
        HP工 作 站 所 用 slip程 式 所 在 的 目 錄 )。 </dt>
      <dt>　</dt>
      <dt><font color="#FF0000" size="4">3.利 用 dip來 建 立 slip網 路 的 連 線 </font><br>
        dip(Dial-up IP Protocol Driver)能 幫 讀 者 自 動 執 行 讀 者 在 slip網 路 中 
        所 有 的 設 定 步 驟 ， 當 然 讀 者 也 可 以 手 動 操 作 ， 但 是 
        最 好 的 方 法 是 建 立 一 個 script檔 案 ， 裡 面 包 含 著 所 有 
        dip要 執 行 的 命 令 ， 如 此 一 來 dip會 依 照 scipt中 的 命 令 一 一 
        執 行 。 由 於 如 此 ， 所 以 筆 者 就 來 帶 著 諸 位 讀 者 來 熟 
        悉 這 個 dip程 式 吧 ！ <br>
        (1)手 動 執 行 dip命 令 <br>
        要 熟 悉 dip的 命 令 ， 就 必 須 親 自 操 作 一 番 ， 首 先 要 執 行 
        dip必 須 在 其 程 式 後 面 加 入 一 個 參 數 t， 這 樣 才 能 啟 動 
        dip， 如 。 <br>
        <br>
        當 讀 者 以 dip -t來 進 行 連 線 時 ， 可 以 鍵 入 help來 觀 看 dip有 
        哪 些 指 令 可 以 使 用 ， 選 擇 幾 個 最 適 合 的 指 令 來 撥 號 
        ， 這 樣 就 可 以 與 遠 端 的 撥 接 系 統 完 成 連 線 。 <br>
        一 般 而 言 ， 只 要 是 第 一 次 使 用 slip連 線 的 人 最 好 都 能 
        夠 自 行 手 動 操 作 一 次 dip這 個 程 式 ， 不 然 就 不 會 知 道 要 
        讓 modem動 作 是 必 須 要 切 到 終 端 機 模 式 才 可 以 完 成 呼 叫 
        modem的 動 作 。 真 的 喔 ， 筆 者 第 一 次 使 用 dip時 也 是 因 為 
        一 直 沒 有 使 用 term而 宣 告 失 敗 ， 而 且 要 寫 好 一 個 dip的 
        script的 要 素 就 是 必 須 把 dip的 手 動 模 式 也 完 全 弄 懂 才 有 
        可 能 ， 不 然 就 會 像 筆 者 一 開 始 一 樣 ， 一 直 以 為 只 要 
        將 dip的 script寫 好 就 可 以 了 ， 因 為 一 想 到 手 動 兩 個 字 就 
        覺 得 煩 ， 所 以 筆 者 一 開 始 是 直 接 寫 dip的 script， 不 過 試 
        了 幾 次 之 後 ， 終 於 一 樣 回 來 重 新 手 動 dip， 重 新 看 完 
        dip的 help才 知 道 要 使 用 term才 能 成 功 。 因 此 筆 者 在 這 裡 奉 
        勸 各 位 讀 者 一 定 要 親 自 手 動 幾 次 才 行 喔 。 如 是 筆 者 
        手 動 dip而 使 用 slip連 線 的 過 程 。 <br>
        在 下 了 mode SLIP 命 令 後 就 可 以 離 開 dip了 ， 因 為 這 時 候 已 
        經 完 成 slip的 連 線 了 ， 我 們 已 經 可 以 使 用 一 些 網 路 程 
        式 了 ， 例 如 telnet， ftp之 類 的 程 式 。 <br>
        (2)撰 寫 一 個 dip的 script<br>
        和 PPP連 線 一 樣 ， slip一 樣 可 以 撰 寫 一 個 shell script來 取 代 這 
        一 長 串 的 命 令 ， 剛 剛 筆 者 就 已 經 預 告 必 須 先 弄 熟 dip這 
        個 程 式 的 使 用 方 式 ， 為 什 麼 呢 ？ 就 是 為 了 完 整 的 將 
        剛 剛 手 動 的 步 驟 一 一 寫 入 這 個 script， 否 則 是 無 法 用 的 
        。 還 有 些 要 注 意 的 就 是 必 須 以 適 用 讀 者 情 況 的 文 字 
        及 數 字 來 替 代 以 上 的 輸 入 字 ， 特 別 是 如 果 你 是 在 ISP申 
        請 帳 號 ， 你 就 一 定 得 問 清 楚 IP address及 電 話 號 碼 ， 並 且 
        最 好 連 登 入 遠 端 撥 接 系 統 的 步 驟 也 要 問 清 楚 ， 因 為 
        各 家 ISP並 不 太 相 同 。 在 這 裡 因 為 前 面 在 PPP連 線 已 經 敘 
        說 過 shell script要 怎 樣 寫 了 ， 因 此 筆 者 就 不 再 多 說 了 ， 
        只 想 告 訴 所 有 想 要 撰 寫 這 一 個 script的 讀 者 ， 只 要 將 所 
        有 手 動 slip連 線 的 過 程 完 整 的 寫 入 這 一 個 script即 可 。 不 
        過 有 點 大 就 是 了 ， 因 為 必 須 將 所 有 連 線 過 程 也 一 併 
        寫 入 這 個 script， 所 以 筆 者 先 前 就 說 過 要 將 手 動 dip的 動 
        作 弄 熟 ， 才 能 撰 寫 這 個 dip script。 <br>
      </dt>
      <dt><font color="#FF0000" size="4">4.測 試 slip的 連 線 </font></dt>
      <dt>在 讀 者 執 行 完 shell script並 完 成 連 線 作 業 後 ， 讀 者 可 以 
        鍵 入 ifconfig這 個 命 令 來 檢 查 看 看 目 前 的 slip網 路 連 線 和 
        sl0的 裝 置 是 否 正 常 ， 應 該 會 列 出 項 目 如 。 <br>
        各 位 讀 者 應 該 可 以 在 輸 出 中 找 到 slO裝 置 ， ifconfig也 會 告 
        知 兩 端 的 IP address， 由 此 便 確 認 了 slip裝 置 已 完 成 連 線 並 
        且 已 經 在 作 業 中 。 <br>
        此 外 ， 筆 者 也 可 以 下 達 default命 令 ， dip會 再 開 一 條 slip的 
        連 線 ， 我 們 也 可 以 在 這 時 候 鍵 入 route命 令 來 檢 查 目 前 
        連 線 的 預 設 路 由 ， 如 。 <br>
        如 所 列 出 的 ， 給 IP address 140.138.15 .184 23的 封 包 被 送 至 sl0裝 
        置 (SLIP裝 置 )， 目 的 default(最 後 一 行 )指 的 是 任 何 的 網 路 位 
        址 ， 任 何 網 路 封 包 （ 在 routing table中 未 指 定 的 )將 會 被 送 
        至 IP addressl40.138.15.184(SLIP連 線 的 遠 端 電 腦 )， 因 為 無 論 是 誰 
        都 需 要 這 些 路 由 表 ， 以 便 讓 你 的 Linux系 統 能 跟 其 他 遠 
        端 系 統 溝 通 。 </dt>
      <dd>　</dd>
      <dt><font color="#FF0000" size="4">5.結 束 slip連 線 </font></dt>
      <dt>要 中 斷 slip連 線 ， 讀 者 可 以 使 用 dip以 -K的 參 數 接 著 被 用 
        來 作 slip連 線 的 串 列 裝 置 名 稱 就 可 以 了 。 不 過 和 PPP斷 線 
        方 式 一 樣 要 以 root登 入 ， 並 打 入 以 下 命 令 來 結 束 
        /dCV/cua1的 slip連 線 ， 做 法 如 。 <br>
        因 為 筆 者 才 剛 剛 接 觸 撥 接 網 路 不 久 ， 因 此 本 篇 文 章 
        可 能 會 有 許 多 疏 失 ， 希 望 諸 位 Linux的 前 輩 能 夠 指 教 ， 
        也 懇 請 讀 者 能 夠 原 諒 。 關 於 pppd， chat和 dip完 整 用 法 ， 讀 
        者 可 以 參 閱 這 三 個 程 式 的 manpage， 相 信 一 定 會 有 不 錯 的 
        收 穫 才 對 。 (作 者 <a href="mailto:s841084@moon.yzu.edu.tw">E-Mail:s841084@moon.yzu.edu.tw</a>)<br>
      </dt>
      <dt>註 一 ： 千 萬 不 要 照 抄 喔 ， 因 為 這 只 是 一 個 基 本 的 範 
        例 而 已 ， 還 不 是 一 個 可 以 通 用 的 script， 也 就 是 說 ， 不 
        一 定 和 讀 者 使 用 的 情 況 相 同 ， 希 望 讀 者 依 據 自 己 的 
        情 況 ， 來 寫 一 下 適 合 自 己 的 script， 和 這 一 個 範 例 類 似 
        就 對 了 。 <br>
      </dt>
      <dd>　</dd>
    </dl>
    </td>
  </tr>
</table>

<dl>
  <div align="center"><center>
  <dt>　</dt>
  </center></div>
  <dt>　</dt>
</dl>
</body>
</html>
