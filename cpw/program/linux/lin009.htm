<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<title>New Page 3</title>
<meta name="GENERATOR" content="Microsoft FrontPage 3.0">
</head>

<body>

<table border="0" cellspacing="2" cellpadding="0" width="100%" style="font-size: 9pt">
  <tr bgcolor="#CCFFCC">
    <td><span style="font-size: 9pt">现在的位置是： <b><a href="linuxidx.htm">Unix/Linux</a> 
    &gt;</b> </span>如何在Linux中设置磁盘限额</td>
  </tr>
  <tr>
    <td></td>
  </tr>
</table>

<table border="0" width="100%" style="font-size: 9pt" bgcolor="#E8E8E8">
  <tr>
    <td width="100%"><table border="1" width="32%" style="font-size: 9pt" height="30"
    cellspacing="0" cellpadding="2">
      <tr>
        <td width="100%" bgcolor="#4264B5"><p align="center"><font color="#FFFFFF">资料整理<span
        class="f">&middot;</span><a href="http://fasoft.yeah.net" target="_blank"
        style="color: rgb(255,255,255)">中国程序员网站</a></font></td>
      </tr>
    </table>
    </td>
  </tr>
  <tr>
    <td width="100%">　<table border="0" width="100%" bgcolor="#E8E8E8">
      <tr>
        <td width="100%"></td>
      </tr>
    </table>
    </td>
  </tr>
  <tr>
    <td width="100%"><p align="center"><strong>如何在Linux中设置磁盘限额</strong></td>
  </tr>
  <tr>
    <td width="100%"><p align="center">作者:吴阿亭</td>
  </tr>
  <tr>
    <td width="100%"></td>
  </tr>
  <tr>
    <td width="100%">　　目的：限制你的服务器上的指定用户（FTP用户，Samba 
    pcguest<br>
    帐号，Appletalk用户等）可以拥有的磁盘空间或文件个数。<br>
    <br>
    　　在默认情况下，Redhat Linux没有任何限制。<br>
    <br>
    　　软件环境：Redhat Linux 5.2实现方法：<br>
    <br>
    1. 检查你的 /etc/fstab ,假设没有设置quota的文件象下面这样。<br>
    /dev/hda1 / ext2 defaults 1 1<br>
    /dev/hda2 /home ext2 defaults 1 2<br>
    /home 是单独的一个分区。<br>
    <br>
    2. 为了设置用户 jephe 在目录 /home/jephe 下所占用的磁盘空间<br>
    ， 首先改/etc/fstab 象下面这样：<br>
    /dev/hda1 / ext2 defaults 1 1<br>
    /dev/hda2 /home ext2 defaults,usrquota 1 2<br>
    <br>
    3. 登录为root,在需要设置quota的分区目录下创建空文件 quota.user<br>
    #touch /home/quota.user<br>
    #chmod 600 /home/quota.user <br>
    <br>
    4. 重新启动服务器<br>
    <br>
    5. 开始为指定的用户分配磁盘限额和最多存放的文件个数。<br>
    # edquota -u jephe<br>
    Quota for user jephe<br>
    /dev/hda2: blocks in use: 0, limits (soft=5000,hard=6500)<br>
    inodes in use : 356, limits (soft=1000,hard=1500)<br>
    你仅仅需要更改 limits 那一项。<br>
    <br>
    注意：<br>
    1. 编辑/etc/fstab时,注意是 usrquota, 不是userquota.<br>
    2. 你可以查看某个用户的磁盘quota, 如 #quota jephe<br>
    <p>　</td>
  </tr>
</table>
</body>
</html>
